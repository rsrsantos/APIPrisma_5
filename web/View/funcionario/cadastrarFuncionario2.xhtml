<html xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">

        <p:growl autoUpdate="true" id="cadastrar" />
        <h:form >
            <h2>Funcionário</h2>
            <p:tabView >

                <p:tab title="Dados Genéricos"  >
                    <p:separator/>

                    <h:panelGrid id="painelFuncionario" columns="4" cellpadding="10">

                        <p:outputLabel for="id" value="ID"/>
                        <p:inputText  id="id" value="#{funcionarioBean.funcionario.id}"  />

                        <p:outputLabel for="nome" value="Nome:"/>
                        <p:inputText required="true" requiredMessage="Preencha o Nome" id="nome" value="#{funcionarioBean.funcionario.nome}" size="55"  />

                        <p:outputLabel for="matricula" value="Matricula:"/>
                        <p:inputText required="true" requiredMessage="Preencha a Matricula" id="matricula" value="#{funcionarioBean.funcionario.matricula}" size="20" >
                            <p:ajax update="cadastrar" listener="#{funcionarioBean.isValidaMatri()}"/>
                        </p:inputText>

                        <p:outputLabel for="pis" value="PIS:"/>
                        <p:inputText required="true" requiredMessage="Preencha o PIS" id="pis" value="#{funcionarioBean.funcionario.pis}" size="20" >
                            <p:ajax update="cadastrar" listener="#{funcionarioBean.isValidPis(pis)}" />
                        </p:inputText>


                    </h:panelGrid>   
                    <p:separator/>

                </p:tab>

            </p:tabView>

            <p:tabView>
                <p:tab title="Dados Complementares">
                    <p:separator />
                    <h:panelGrid columns="4" cellpadding="10">

                        <p:outputLabel for="empresa" value="Empresa"/>

                        <p:selectOneMenu id="empresa" value="#{funcionarioBean.funcionario.empresa}" style="width:300px" required="true" requiredMessage="Selecio a Empresa">
                            <f:selectItem itemLabel="Selecione a Empresa"  />
                            <f:selectItems value="#{empresaBean.empresas}" var="empresa" 
                                           itemLabel="#{empresa.empresa}" itemValue="#{empresa.id}" />
                        </p:selectOneMenu>

                        <p:outputLabel for="departamento" value="Departamento"/>
                        <p:selectOneMenu id="departamento" value="#{funcionarioBean.funcionario.departamento}" style="width:300px" 
                                         required="true" requiredMessage="Selecio o Departamento">
                            <f:selectItem itemLabel="Selecione o Departamento"  />
                            <f:selectItems value="#{departamentoBean.departamentos}" var="departamento" 
                                           itemLabel="#{departamento.descricao}" itemValue="#{departamento.id}" />
                        </p:selectOneMenu>

                        <p:outputLabel for="funcao" value="Função"/>
                        <p:selectOneMenu id="funcao" value="#{funcionarioBean.funcionario.funcao}" style="width:300px"
                                         required="true" requiredMessage="Selecio a Função">
                            <f:selectItem itemLabel="Selecione a Função"  />
                            <f:selectItems value="#{funcaoBean.funcaos}" var="funcao" 
                                           itemLabel="#{funcao.descricao}" itemValue="#{funcao.id}" />
                        </p:selectOneMenu>
                        <p:outputLabel for="dataadm" value="Data Adimissão"/>
                        <p:inputMask  mask="99/99/9999" id="dataadm" required="true" requiredMessage="Adimissão" value="#{funcionarioBean.funcionario.dataadm}" size="15"  />


                    </h:panelGrid>   
                    <p:separator/>

                </p:tab>

            </p:tabView>

            <h:panelGrid width="100%" style="text-align:center">
                <p:commandButton   value="Salvar" style="height: 40px; width: 1300px;align-content: center;" icon="fa fa-fw fa-save" action="#{funcionarioBean.gravarFuncionario()}"  ajax="false"/>
            </h:panelGrid>
        </h:form>

</html>

